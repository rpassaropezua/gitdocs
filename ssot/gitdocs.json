{
  "$schema": "https://example.com/cmcc-schema/v1",
  "model_name": "GitdocsManagement",
  "Description": "System for managing Git commit exports and ClickUp task links.",
  "repositories": {
    "Description": "Git repositories being tracked",
    "schema": [
      {
        "name": "RepositoryID",
        "datatype": "string",
        "type": "raw",
        "Description": "Unique repository identifier"
      },
      {
        "name": "RepositoryName",
        "datatype": "string",
        "type": "raw",
        "Description": "Name of the repository"
      },
      {
        "name": "Status",
        "datatype": "string",
        "type": "raw",
        "Description": "Current status of the repository"
      }
    ],
    "data": [
      {
        "RepositoryID": "R001",
        "RepositoryName": "gitdocs",
        "Status": "active"
      },
      {
        "RepositoryID": "R002",
        "RepositoryName": "gitutils",
        "Status": "inactive"
      }
    ]
  },
  "commits": {
    "Description": "Commits from the repositories",
    "schema": [
      {
        "name": "CommitID",
        "datatype": "string",
        "type": "raw",
        "Description": "Unique commit identifier"
      },
      {
        "name": "RepositoryID",
        "datatype": "string",
        "type": "raw",
        "Description": "FK to repositories.RepositoryID"
      },
      {
        "name": "CommitDate",
        "datatype": "datetime",
        "type": "raw",
        "Description": "Date of the commit"
      },
      {
        "name": "CommitMessage",
        "datatype": "string",
        "type": "raw",
        "Description": "Message associated with the commit"
      },
      {
        "name": "ClickUpTaskLink",
        "datatype": "string",
        "type": "calculated",
        "formula": "=\"https://app.clickup.com/t/\" & MID({{CommitMessage}}, FIND(\"CU-\", {{CommitMessage}}), 8)",
        "Description": "Link to the associated ClickUp task"
      }
    ],
    "data": [
      {
        "CommitID": "C001",
        "RepositoryID": "R001",
        "CommitDate": "2023-10-01T10:00:00Z",
        "CommitMessage": "Initial commit CU-123456",
        "ClickUpTaskLink": "https://app.clickup.com/t/CU-123456"
      },
      {
        "CommitID": "C002",
        "RepositoryID": "R001",
        "CommitDate": "2023-10-02T11:30:00Z",
        "CommitMessage": "Added new feature CU-654321",
        "ClickUpTaskLink": "https://app.clickup.com/t/CU-654321"
      }
    ]
  },
  "tasks": {
    "Description": "ClickUp tasks linked to commits",
    "schema": [
      {
        "name": "TaskID",
        "datatype": "string",
        "type": "raw",
        "Description": "Unique task identifier"
      },
      {
        "name": "TaskName",
        "datatype": "string",
        "type": "raw",
        "Description": "Name of the task"
      },
      {
        "name": "Status",
        "datatype": "string",
        "type": "raw",
        "Description": "Current status of the task"
      },
      {
        "name": "TotalCommits",
        "datatype": "integer",
        "type": "aggregation",
        "formula": "=COUNTIFS(commits!ClickUpTaskLink, \"https://app.clickup.com/t/\" & {{TaskID}})",
        "Description": "Total number of commits linked to this task"
      }
    ],
    "data": [
      {
        "TaskID": "CU-123456",
        "TaskName": "Initial Setup",
        "Status": "completed",
        "TotalCommits": 1
      },
      {
        "TaskID": "CU-654321",
        "TaskName": "Feature Development",
        "Status": "in progress",
        "TotalCommits": 1
      }
    ]
  }
}